<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Puffly x Arixo Masterpiece - Creator Edition</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --puffly-green: #00c896;
            --puffly-grad: linear-gradient(135deg, #00c896, #00e0b0);
            --bubble-you: #e6ffad; 
            --glass: rgba(0, 0, 0, 0.6);
            --gold: #ffcc00;
        }
        body { margin:0; font-family:'Inter', sans-serif; background:#000; color:#fff; overflow:hidden; }
        .page { display:none; height:100vh; width:100%; position:absolute; top:0; left:0; }
        .page.active { display:block; }
        .nav { position:fixed; bottom:0; width:100%; display:flex; justify-content:space-around; align-items:center; background:rgba(0,0,0,0.9); padding:10px 0 25px; z-index:9999; border-top:1px solid #222; }
        .nav button { background:none; border:none; color:#777; display:flex; flex-direction:column; align-items:center; font-size:11px; flex:1; cursor:pointer; outline:none; }
        .nav button.active { color:var(--puffly-green); }

        .nav .upload-btn {
            background: var(--puffly-grad);
            width: 65px;
            height: 40px;
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #000;
            font-size: 20px;
            margin-top: -10px;
            box-shadow: 0 4px 12px rgba(0,200,150,0.4);
            cursor: pointer;
            border: 1.5px solid rgba(255,255,255,0.3);
        }

        .video-card { width:100%; height:100vh; scroll-snap-align:start; position:relative; }
        video { width:100%; height:100%; object-fit:cover; }
        .feed-sidebar { position:absolute; right:12px; bottom:100px; display:flex; flex-direction:column; gap:10px; align-items:center; z-index:100; }
        .btn-circle { width:42px; height:42px; border-radius:50%; background:var(--glass); display:flex; align-items:center; justify-content:center; font-size:20px; border:1px solid rgba(255,255,255,0.2); cursor:pointer; backdrop-filter:blur(5px); }
        .btn-circle.liked { color:var(--puffly-green); border-color:var(--puffly-green); }
        .action-label { font-size:10px; margin-top:2px; text-shadow: 0 1px 2px #000; }
        .music-disc { width:40px; height:40px; border-radius:50%; background:radial-gradient(circle, #333 20%, #000 100%); border:3px solid #222; display:flex; align-items:center; justify-content:center; animation:rotate 3s linear infinite; }
        @keyframes rotate { from { transform:rotate(0deg); } to { transform:rotate(360deg); } }
    </style>
</head>
<body>

<div id="giftAlert" style="position: fixed; top: 15%; left: 50%; transform: translateX(-50%); background: var(--puffly-green); color: #000; padding: 12px 25px; border-radius: 30px; font-weight: bold; z-index: 10005; display: none; box-shadow: 0 5px 15px rgba(0,0,0,0.3); text-align: center; min-width: 200px;">
    <i class="fa-solid fa-gift"></i> <span id="giftAlertText"></span>
</div>

<div id="page-feed" class="page active">
    <div id="feedContainer" style="height:100vh; overflow-y:scroll; scroll-snap-type:y mandatory;"></div>
</div>

<div id="page-chat" class="page">
    <div class="chat-container" style="height:100vh; display:flex; flex-direction:column;">
        <div class="chat-header" style="padding:45px 20px 15px; background:#111; border-bottom:1px solid #222; display:flex; justify-content:space-between; align-items:center;">
            <div>
                <b style="font-size:18px;"><i class="fa-solid fa-comment-dots"></i> ‡πÅ‡∏ä‡∏ó‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß</b><br>
                <small id="chatStatusText" style="color:var(--puffly-green);">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Ñ‡∏∏‡∏¢‡∏Å‡∏±‡∏ö Arixo</small>
            </div>
            <div style="display:flex; gap:18px; font-size:18px;">
                <i class="fa-solid fa-phone" onclick="startCall('‡πÄ‡∏™‡∏µ‡∏¢‡∏á')"></i>
                <i class="fa-solid fa-video" onclick="startCall('‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠')"></i>
                <i class="fa-solid fa-ban" id="blockBtn" style="color:#ff4444;" onclick="toggleBlock()"></i>
            </div>
        </div>
        <div id="chatBox" style="flex:1; overflow-y:auto; padding:20px; display:flex; flex-direction:column; gap:12px; padding-bottom:150px;"></div>
        
        <div id="extraMenu" style="display:none; background:#1a1a1a; padding:15px; border-radius:20px 20px 0 0; position:fixed; bottom:145px; width:100%; box-sizing:border-box; grid-template-columns: repeat(4, 1fr); gap:10px; border-top:1px solid #333;">
            <div class="extra-item" onclick="sendMedia('‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û')" style="text-align:center; font-size:10px; color:#888;"><i class="fa-solid fa-image" style="font-size:20px; color:#fff; display:block; margin-bottom:5px;"></i>‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û</div>
            <div class="extra-item" onclick="sendMedia('‡∏≠‡∏¥‡πÇ‡∏°‡∏à‡∏¥')" style="text-align:center; font-size:10px; color:#888;"><i class="fa-solid fa-face-smile" style="font-size:20px; color:#fff; display:block; margin-bottom:5px;"></i>‡∏≠‡∏¥‡πÇ‡∏°‡∏à‡∏¥</div>
            <div class="extra-item" onclick="sendMedia('‡πÑ‡∏ü‡∏•‡πå')" style="text-align:center; font-size:10px; color:#888;"><i class="fa-solid fa-file-arrow-up" style="font-size:20px; color:#fff; display:block; margin-bottom:5px;"></i>‡πÑ‡∏ü‡∏•‡πå</div>
            <div class="extra-item" onclick="sendMedia('‡πÄ‡∏™‡∏µ‡∏¢‡∏á')" style="text-align:center; font-size:10px; color:#888;"><i class="fa-solid fa-microphone" style="font-size:20px; color:#fff; display:block; margin-bottom:5px;"></i>‡πÄ‡∏™‡∏µ‡∏¢‡∏á</div>
        </div>

        <div class="chat-input-bar" style="position:fixed; bottom:85px; width:100%; padding:15px; background:#111; display:flex; gap:10px; box-sizing:border-box; border-top:1px solid #222;">
            <button onclick="toggleExtraMenu()" style="background:#333; color:#fff; border:none; border-radius:50%; width:42px; height:42px;"><i class="fa-solid fa-plus"></i></button>
            <input type="text" id="chatInput" placeholder="‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß..." style="flex:1; padding:12px 15px; border-radius:25px; border:none; background:#222; color:#fff; outline:none;">
            <button onclick="sendPrivateMsg()" style="background:var(--puffly-green); border:none; border-radius:50%; width:42px; height:42px; color:#000;"><i class="fa-solid fa-paper-plane"></i></button>
        </div>
    </div>
</div>

<div id="page-profile" class="page" style="background:#000; padding:60px 0 100px; overflow-y: auto;">
    <div style="text-align:center; padding: 0 20px;">
        <div style="position: relative; width:100px; height:100px; margin:0 auto;">
            <div id="profilePicDisplay" style="width:100px; height:100px; background:var(--puffly-grad); border-radius:50%; display:flex; align-items:center; justify-content:center; font-size:40px; color:#000; overflow:hidden;">
                <span>üéÆ</span>
            </div>
            <label for="imgUpload" style="position:absolute; bottom:0; right:0; background:#fff; width:30px; height:30px; border-radius:50%; display:flex; align-items:center; justify-content:center; cursor:pointer; border:2px solid #000;">
                <i class="fa-solid fa-camera" style="color:#000; font-size:14px;"></i>
            </label>
            <input type="file" id="imgUpload" hidden accept="image/*" onchange="updateProfilePic(event)">
        </div>
        <div style="margin-top:15px; display:flex; align-items:center; justify-content:center; gap:10px;">
            <h2 id="profileName" style="margin:0;">@Creator_Asura</h2>
            <i class="fa-solid fa-pen-to-square" style="color:#888; cursor:pointer;" onclick="editProfileName()"></i>
        </div>
        <p style="color:#888; margin:5px 0;">‡∏ú‡∏π‡πâ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏Å‡∏° Asura's Ransom</p>
    </div>

    <div style="display: flex; gap: 10px; padding: 0 20px; margin-top: 20px;">
        <div onclick="document.getElementById('rechargeMenu').style.display='block'" style="flex: 1; background: #222; padding: 15px; border-radius: 20px; border: 1px solid var(--gold); text-align: center; cursor:pointer;">
            <small style="color:var(--gold); font-size: 10px;">‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏õ‡∏¢‡πå (‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏ï‡∏¥‡∏°)</small>
            <div style="font-size: 16px; font-weight: bold; color: #fff;">‡∏ø<span id="userBalanceDisplay">100,000.00</span></div>
        </div>
        <div style="flex: 1; background: #222; padding: 15px; border-radius: 20px; border: 1px solid var(--puffly-green); text-align: center;">
            <small style="color:var(--puffly-green); font-size: 10px;">‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡∏™‡∏∞‡∏™‡∏°</small>
            <div style="font-size: 16px; font-weight: bold; color: #fff;">‡∏ø<span id="walletBalance">0.00</span></div>
        </div>
    </div>
    <div style="text-align:center; margin-top:10px;">
        <button onclick="withdrawMoney()" style="background:var(--puffly-green); color:#000; border:none; padding:8px 25px; border-radius:20px; font-weight:bold; font-size:12px;">‡∏ñ‡∏≠‡∏ô‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡∏™‡∏∞‡∏™‡∏° (‡∏´‡∏±‡∏Å 5%)</button>
    </div>

    <div style="display:flex; justify-content:space-around; border-top:1px solid #222; margin-top:20px;">
        <button onclick="switchTab('my-vids', this)" class="tab-btn active-tab" style="background:none; border:none; color:var(--puffly-green); padding:15px; flex:1;"><i class="fa-solid fa-table-cells"></i></button>
        <button onclick="switchTab('liked-vids', this)" class="tab-btn" style="background:none; border:none; color:#555; padding:15px; flex:1;"><i class="fa-solid fa-heart"></i></button>
        <button onclick="switchTab('saved-vids', this)" class="tab-btn" style="background:none; border:none; color:#555; padding:15px; flex:1;"><i class="fa-solid fa-bookmark"></i></button>
    </div>
    <div id="tabContent" style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 1px; padding: 2px;"></div>
</div>

<div id="giftMenu" style="display: none; position: fixed; bottom: 0; left: 0; width: 100%; background: rgba(20, 20, 20, 0.98); border-top: 2px solid var(--puffly-green); border-radius: 25px 25px 0 0; padding: 20px; z-index: 10002; box-sizing: border-box;">
    <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:15px;">
        <b style="color:var(--puffly-green); font-size:16px;">üéÅ ‡∏™‡πà‡∏á‡∏Ç‡∏≠‡∏á‡∏Ç‡∏ß‡∏±‡∏ç‡∏™‡∏ô‡∏±‡∏ö‡∏™‡∏ô‡∏∏‡∏ô</b>
        <i class="fa-solid fa-circle-xmark" style="cursor:pointer; font-size:20px; color:#555;" onclick="toggleGiftMenu(false)"></i>
    </div>
    <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 12px; max-height: 300px; overflow-y: auto;">
        <div class="gift-item" onclick="processGift('‡πÑ‡∏≠‡∏®‡∏Å‡∏£‡∏µ‡∏° üç¶', 50)" style="background:rgba(255,255,255,0.05); padding:10px; border-radius:15px; text-align:center; cursor:pointer;"><span>üç¶</span><br><small>‡∏ø50</small></div>
        <div class="gift-item" onclick="processGift('‡∏à‡∏≠‡∏¢‡∏ó‡∏≠‡∏á üéÆ', 500)" style="background:rgba(255,255,255,0.05); padding:10px; border-radius:15px; text-align:center; cursor:pointer;"><span>üéÆ</span><br><small>‡∏ø500</small></div>
        <div class="gift-item" onclick="processGift('‡πÄ‡∏û‡∏ä‡∏£ üíé', 5000)" style="background:rgba(255,255,255,0.05); padding:10px; border-radius:15px; text-align:center; cursor:pointer;"><span>üíé</span><br><small>‡∏ø5k</small></div>
        <div class="gift-item" onclick="processGift('‡∏°‡∏±‡∏á‡∏Å‡∏£‡∏ó‡∏≠‡∏á üêâ', 50000)" style="background:rgba(255,255,255,0.05); padding:10px; border-radius:15px; text-align:center; cursor:pointer;"><span>üêâ</span><br><small>‡∏ø50k</small></div>
    </div>
</div>

<div id="rechargeMenu" style="display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 85%; background: #1a1a1a; border: 2px solid var(--gold); border-radius: 25px; padding: 20px; z-index: 10005; box-shadow: 0 0 40px rgba(0,0,0,0.9); box-sizing: border-box;">
    <div style="text-align:center; margin-bottom:20px;">
        <h3 style="color:var(--gold); margin:0; font-size: 20px;">üíé ‡πÄ‡∏ï‡∏¥‡∏°‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç Puffly</h3>
        <p style="color:#888; font-size: 12px; margin: 5px 0;">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÅ‡∏û‡πá‡∏Å‡πÄ‡∏Å‡∏à‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡∏ô‡∏±‡∏ö‡∏™‡∏ô‡∏∏‡∏ô‡∏Ñ‡∏£‡∏µ‡πÄ‡∏≠‡πÄ‡∏ï‡∏≠‡∏£‡πå</p>
    </div>
    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px;">
        <div onclick="addMoney(100)" style="background:#252525; padding:15px; border-radius:15px; text-align:center; cursor:pointer; border:1px solid #333;">
            <div style="color:var(--gold); font-weight:bold;">100 ‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç</div>
            <div style="font-size:11px; color:#aaa;">‡∏ø35.00</div>
        </div>
        <div onclick="addMoney(500)" style="background:#252525; padding:15px; border-radius:15px; text-align:center; cursor:pointer; border:1px solid #333;">
            <div style="color:var(--gold); font-weight:bold;">500 ‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç</div>
            <div style="font-size:11px; color:#aaa;">‡∏ø149.00</div>
        </div>
        <div onclick="addMoney(1000)" style="background:#252525; padding:15px; border-radius:15px; text-align:center; cursor:pointer; border:1px solid #333;">
            <div style="color:var(--gold); font-weight:bold;">1,000 ‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç</div>
            <div style="font-size:11px; color:#aaa;">‡∏ø299.00</div>
        </div>
        <div onclick="addMoney(5000)" style="background:#252525; padding:15px; border-radius:15px; text-align:center; cursor:pointer; border:1px solid #333;">
            <div style="color:var(--gold); font-weight:bold;">5,000 ‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç</div>
            <div style="font-size:11px; color:#aaa;">‡∏ø1,450.00</div>
        </div>
    </div>
    <button onclick="document.getElementById('rechargeMenu').style.display='none'" style="width:100%; margin-top:20px; background:none; border:none; color:#777; cursor:pointer; font-size: 13px;">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
</div>

<div class="nav">
    <button onclick="changePage('page-feed', this)" class="active"><i class="fa-solid fa-house"></i><span>‡∏™‡∏≥‡∏£‡∏ß‡∏à</span></button>
    <button onclick="changePage('page-chat', this)"><i class="fa-solid fa-comment-dots"></i><span>‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°</span></button>
    <div class="upload-btn" onclick="alert('‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠‡∏à‡∏≤‡∏Å‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á')"><i class="fa-solid fa-plus"></i></div>
    <button onclick="alert('Live Stream ‡∏à‡∏∞‡∏õ‡∏•‡∏î‡∏•‡πá‡∏≠‡∏Å‡∏†‡∏≤‡∏¢‡∏´‡∏•‡∏±‡∏á')"><i class="fa-solid fa-tower-broadcast"></i><span>‡πÑ‡∏•‡∏ü‡πå</span></button>
    <button onclick="changePage('page-profile', this)"><i class="fa-solid fa-user-ninja"></i><span>‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå</span></button>
</div>

<script>
    // --- 1. ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡∏£‡∏∞‡∏ö‡∏ö ---
    let pendingEarnings = 0;      
    let userBalance = 100000.00;  
    let isBlocked = false;

    // --- 2. ‡∏£‡∏∞‡∏ö‡∏ö‡∏ß‡∏≤‡∏£‡πå‡∏õ (‡πÉ‡∏´‡∏°‡πà!) ---
    function goToProfile(username) {
        const profileTitle = document.getElementById('profileName');
        if (profileTitle) profileTitle.innerText = username;
        changePage('page-profile', document.querySelectorAll('.nav button')[3]); // ‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå
    }

    // --- 3. ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô ---
    function updateWalletUI() {
        const wallet = document.getElementById('walletBalance');
        if (wallet) wallet.innerText = pendingEarnings.toLocaleString(undefined, {minimumFractionDigits: 2});
        const balance = document.getElementById('userBalanceDisplay');
        if (balance) balance.innerText = userBalance.toLocaleString(undefined, {minimumFractionDigits: 2});
    }

    function addMoney(amount) {
        userBalance += amount;
        updateWalletUI();
        alert(`‡πÄ‡∏ï‡∏¥‡∏°‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à! ‡∏¢‡∏≠‡∏î‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô: ‡∏ø${userBalance.toLocaleString()}`);
        document.getElementById('rechargeMenu').style.display = 'none';
    }

    function processGift(name, price) {
        if (userBalance < price) {
            alert("‡∏¢‡∏≠‡∏î‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç‡πÑ‡∏°‡πà‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏û‡∏≠!");
            return;
        }
        if (confirm(`‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏ô‡∏±‡∏ö‡∏™‡∏ô‡∏∏‡∏ô‡∏î‡πâ‡∏ß‡∏¢ ${name} ‡∏£‡∏≤‡∏Ñ‡∏≤ ‡∏ø${price.toLocaleString()}?`)) {
            userBalance -= price;
            pendingEarnings += (price * 0.70);
            const alertBox = document.getElementById('giftAlert');
            document.getElementById('giftAlertText').innerText = `‡∏™‡πà‡∏á ${name} ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!`;
            alertBox.style.display = 'block';
            setTimeout(() => { alertBox.style.display = 'none'; }, 3000);
            updateWalletUI();
            toggleGiftMenu(false);
        }
    }

    function withdrawMoney() {
        if (pendingEarnings < 100) { alert("‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡πà‡∏≥ 100 ‡∏ö‡∏≤‡∏ó"); return; }
        let net = pendingEarnings * 0.95;
        if (confirm(`‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏ñ‡∏≠‡∏ô ‡∏ø${net.toLocaleString()}?`)) {
            pendingEarnings = 0;
            updateWalletUI();
            alert("‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏Ç‡∏≠‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!");
        }
    }

    // --- 4. ‡∏£‡∏∞‡∏ö‡∏ö‡∏´‡∏ô‡πâ‡∏≤ Feed (‡∏õ‡∏∏‡πà‡∏°‡∏Ñ‡∏£‡∏ö + ‡∏à‡∏∏‡∏î‡∏ß‡∏≤‡∏£‡πå‡∏õ) ---
    function initFeed() {
        const container = document.getElementById('feedContainer');
        const data = [
            { user: '@Creator_Asura', desc: "‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï Asura's Ransom! ‚òÅÔ∏èüéÆ", liked: false },
            { user: '@Puffly_Official', desc: "New Generation Creator #Puffly", liked: true }
        ];

        container.innerHTML = "";
        data.forEach(item => {
            const card = document.createElement('div');
            card.className = 'video-card';
            card.innerHTML = `
                <video src="https://www.w3schools.com/html/mov_bbb.mp4" loop muted playsinline></video>
                
                <div class="feed-sidebar">
                    <div onclick="goToProfile('${item.user}')" style="position:relative; margin-bottom:15px; cursor:pointer;">
                        <div style="width:45px; height:45px; border-radius:50%; border:2px solid #fff; overflow:hidden;">
                            <img src="https://via.placeholder.com/45" style="width:100%;">
                        </div>
                        <div onclick="event.stopPropagation(); this.style.display='none';" style="position:absolute; bottom:-10px; left:50%; transform:translateX(-50%); background:#ff4444; width:20px; height:20px; border-radius:50%; display:flex; align-items:center; justify-content:center; font-size:12px; border:2px solid #000;">
                            <i class="fa-solid fa-plus" style="color:#fff;"></i>
                        </div>
                    </div>

                    <div class="action-item">
                        <div class="btn-circle ${item.liked?'liked':''}" onclick="this.classList.toggle('liked'); event.stopPropagation();">
                            <i class="fa-solid fa-cloud"></i>
                        </div>
                        <span class="action-label">1.2k</span>
                    </div>

                    <div class="action-item" onclick="alert('‡πÄ‡∏õ‡∏¥‡∏î‡∏Ñ‡∏≠‡∏°‡πÄ‡∏°‡∏ô‡∏ï‡πå'); event.stopPropagation();">
                        <div class="btn-circle"><i class="fa-solid fa-comment-dots"></i></div>
                        <span class="action-label">89</span>
                    </div>

                    <div class="action-item" onclick="this.style.color='var(--gold)'; event.stopPropagation();">
                        <div class="btn-circle"><i class="fa-solid fa-bookmark"></i></div>
                        <span class="action-label">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</span>
                    </div>

                    <div class="action-item" onclick="alert('‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡∏•‡∏¥‡∏á‡∏Å‡πå‡πÅ‡∏•‡πâ‡∏ß'); event.stopPropagation();">
                        <div class="btn-circle"><i class="fa-solid fa-share"></i></div>
                        <span class="action-label">‡πÅ‡∏ä‡∏£‡πå</span>
                    </div>

                    <div class="action-item" onclick="toggleGiftMenu(true); event.stopPropagation();">
                        <div class="btn-circle" style="color:var(--gold);"><i class="fa-solid fa-gift"></i></div>
                        <span class="action-label">‡∏Ç‡∏≠‡∏á‡∏Ç‡∏ß‡∏±‡∏ç</span>
                    </div>

                    <div class="music-disc" style="margin-top:10px;">
                        <div style="width:24px; height:24px; background:var(--puffly-grad); border-radius:50%; display:flex; align-items:center; justify-content:center;">
                            <i class="fa-solid fa-music" style="font-size:10px; color:#000;"></i>
                        </div>
                    </div>
                </div>

                <div onclick="goToProfile('${item.user}')" style="position:absolute; left:15px; bottom:115px; z-index:10; cursor:pointer; text-shadow: 0 1px 4px rgba(0,0,0,0.8);">
                    <h3 style="margin:0 0 8px 0; font-size:17px;">${item.user} <i class="fa-solid fa-circle-check" style="font-size:11px; color:var(--puffly-green);"></i></h3>
                    <p style="font-size:14px; margin:0; font-weight:300;">${item.desc}</p>
                    <div style="display:flex; align-items:center; margin-top:10px; font-size:13px;">
                        <i class="fa-solid fa-music" style="margin-right:8px;"></i>
                        <marquee scrollamount="3" style="width:150px;">‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏ï‡πâ‡∏ô‡∏â‡∏ö‡∏±‡∏ö - ${item.user}</marquee>
                    </div>
                </div>
            `;
            const vid = card.querySelector('video');
            card.onclick = () => vid.paused ? vid.play() : vid.pause();
            container.appendChild(card);
        });
    }

    // --- 5. ‡∏£‡∏∞‡∏ö‡∏ö‡∏ô‡∏≥‡∏ó‡∏≤‡∏á ---
    function changePage(pageId, btn) {
        document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
        document.getElementById(pageId).classList.add('active');
        document.querySelectorAll('.nav button').forEach(b => b.classList.remove('active'));
        if(btn) btn.classList.add('active');
        if(pageId === 'page-profile') switchTab('my-vids', document.querySelector('.tab-btn'));
    }

    function switchTab(type, btn) {
        document.querySelectorAll('.tab-btn').forEach(b => b.style.color = '#555');
        if(btn) btn.style.color = 'var(--puffly-green)';
        const container = document.getElementById('tabContent');
        container.innerHTML = "";
        for (let i = 1; i <= 6; i++) {
            container.innerHTML += `<div class="vid-grid-item" style="width:100%;aspect-ratio:3/4;background:#111;"><img src="https://picsum.photos/seed/${type}${i}/200/300" style="width:100%;height:100%;object-fit:cover;"></div>`;
        }
    }

    // --- 6. ‡πÅ‡∏ä‡∏ó‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå ---
    function toggleGiftMenu(show) { document.getElementById('giftMenu').style.display = show ? 'block' : 'none'; }
    function toggleExtraMenu() { 
        const m = document.getElementById('extraMenu');
        m.style.display = (m.style.display === 'grid') ? 'none' : 'grid'; 
    }
    function toggleBlock() {
        isBlocked = !isBlocked;
        document.getElementById('chatStatusText').innerText = isBlocked ? "‡∏Ñ‡∏∏‡∏ì‡∏ö‡∏•‡πá‡∏≠‡∏Å‡πÅ‡∏ä‡∏ó‡∏ô‡∏µ‡πâ‡πÅ‡∏•‡πâ‡∏ß" : "‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Ñ‡∏∏‡∏¢‡∏Å‡∏±‡∏ö Arixo";
        document.getElementById('chatInput').disabled = isBlocked;
    }
    function sendPrivateMsg() {
        if (isBlocked) return;
        const input = document.getElementById('chatInput');
        if(!input.value.trim()) return;
        const msg = document.createElement('div');
        msg.style = "align-self:flex-end; background:var(--puffly-grad); padding:10px 15px; border-radius:15px; color:#000; margin-bottom:10px; max-width:80%;";
        msg.innerText = input.value;
        document.getElementById('chatBox').appendChild(msg);
        input.value = '';
        document.getElementById('chatBox').scrollTop = document.getElementById('chatBox').scrollHeight;
    }
    function startCall(t) { alert(`‡∏™‡∏≤‡∏¢${t}...`); }
    function sendMedia(m) { alert(`‡πÄ‡∏õ‡∏¥‡∏î: ${m}`); }
    function editProfileName() {
        const n = prompt("‡∏ä‡∏∑‡πà‡∏≠‡πÉ‡∏´‡∏°‡πà:", document.getElementById('profileName').innerText);
        if (n) document.getElementById('profileName').innerText = n;
    }
    function updateProfilePic(e) {
        const r = new FileReader();
        r.onload = () => document.getElementById('profilePicDisplay').innerHTML = `<img src="${r.result}" style="width:100%;height:100%;object-fit:cover;">`;
        r.readAsDataURL(e.target.files[0]);
    }

    window.onload = () => { initFeed(); updateWalletUI(); };
</script>
</body>
</html>